<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PodCast Play</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:wght@500&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="../assets/css/plugins/toastr/toastr.css" />
    <link rel="stylesheet" href="../assets/css/listaPodcast.css" />
    <link rel="stylesheet" href="../assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="../assets/css/player.css" />
    <link rel="stylesheet" href="../assets/css/index.css" />
</head>

<body>
    <header class="header-est">
        <a href="../Home/home.html"><img src="../assets/img/contents/logo-sem-fundo.png" class="logo"
                alt="logo PHPodCast" /></a>
        <form method="post" accept-charset="utf-8" class="search-form" action="../assets/pesquisa/search">
            <div class="input search required">
                <input type="search" name="pesquisa" class="search-bar" placeholder="Pesquise um Podcast" minlength="2"
                    required="required" id="pesquisa" value="in" />
            </div>
            <div class="submit">
                <input type="submit" class="btn-pesquisa" alt="pesquisar" value="" />
            </div>
        </form>
        <a class="dropdown-toggle user-toggle" id="dropdownMenuPerfil" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <img src="../assets/files/usuarios/1/batman.jpg" class="user-img" alt="foto do perfil do usuário" />
        </a>
        <div class="dropdown-menu mr-3" aria-labelledby="dropdownMenuPerfil">
            <a href="../Usuarios/configuracoes.html" class="dropdown-item">Configurações</a>
            <a href="../Canais/meucanal.html" class="dropdown-item">Meu canal</a>
            <a id="logout" href="../Login/login.html" class="dropdown-item">Sair</a>
        </div>
    </header>
    <main>
        <div class="row content mt-3">
            <span class="mr-2">
                <img src="../assets/img/destaque.svg" alt="ícone pesquisa canais" />
            </span>
            <span class="ubuntu txt-normal fs22 pt-3">Canais</span>
            <hr />

            <div class="owl-carousel owl-theme">
                <div class="item">
                    <a href="../assets/episodios/lista/2"><img
                            src="../assets/files/canais/2/imaginedragons.jpg"
                            alt="logo do canal Imagine Dragons" /></a><a href="../assets/episodios/lista/2"
                        class="link-pesq">Imagine Dragons</a>
                </div>
                <div class="item">
                    <a href="../assets/episodios/lista/6"><img src="../assets/files/canais/6/baroes.png"
                            alt="logo do canal Baroes da pisadinha" /></a>
                    <a href="../assets/episodios/lista/6" class="link-pesq">Baroes da pisadinha</a>
                </div>
            </div>
        </div>
        <div class="row content mt-3">
            <span class="mr-2">
                <img src="../assets/img/novidades.svg" alt="ícone pesquisa eps" />
            </span>
            <span class="ubuntu txt-normal fs22 pt-3">Episódios</span>
            <hr />

            <div class="owl-carousel owl-theme">
                <div class="item">
                    <div onclick="playThis('Investe em mim', true, '../assets/files/canais/6/baroes.png' )">
                        <img src="../assets/files/canais/6/baroes.png" alt="Botão play" />
                        <span class="link-pesq">Investe em mim</span>
                    </div>
                </div>
                <div class="item">
                    <div onclick="playThis('Demons', false, '../assets/files/canais/2/imaginedragons.jpg' )">
                        <img src="../assets/files/canais/2/imaginedragons.jpg" alt="Botão play" />
                        <span class="link-pesq">Demons</span>
                    </div>
                </div>
                <div class="item">
                    <div onclick="playThis('Nem foi combinado', false, '../assets/files/canais/3/tribo.jpg' )">
                        <img src="../assets/files/canais/3/tribo.jpg" alt="Botão play" />
                        <span class="link-pesq">Nem foi combinado</span>
                    </div>
                </div>
                <div class="item">
                    <div onclick="playThis('Cade a quentinha?', false, '../assets/files/canais/4/nerdcast.jpg' )">
                        <img src="../assets/files/canais/4/nerdcast.jpg" alt="Botão play" />
                        <span class="link-pesq">Cade a quentinha?</span>
                    </div>
                </div>
                <div class="item">
                    <div
                        onclick="playThis('Te escolhi', false, '../assets/files/canais/5/artworks-000643943857-8pfnzo-t500x500.jpg' )">
                        <img src="../assets/files/canais/5/artworks-000643943857-8pfnzo-t500x500.jpg"
                            alt="Botão play" />
                        <span class="link-pesq">Te escolhi</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="space"></div>

        <div class="row bot-bar">
            <div class="player-timeline">
                <div class="player-timeline-control"></div>
            </div>
            <div class="col-sm-1">
                <img src="" id="canal-logo" class="logo-player" alt="logo do canal" style="display: none" />
            </div>
            <div class="col-sm-3">
                <div class="player-display">
                    <span id="title" class="player-current-track"></span>
                </div>
                <div class="tempo-atual">
                    <span id="tempo-atual"></span>
                </div>
            </div>

            <div class="col-sm-4 mt-3">
                <div class="player-controls">
                    <img src="../assets/img/favorito.png" id="add-favoritos" class="img-favorito"
                        alt="imagem de adicionar aos favoritos" onclick="attImageFavoritos()" />
                    <span class="player-prev">
                        <img src="../assets/img/double-arrows-prev.svg" class="btn-prev" alt="botão de recuar" />
                    </span>
                    <span class="player-play">
                        <img src="../assets/img/play.svg" class="btn-play" alt="botão de play" onclick="play()" />
                    </span>
                    <span class="player-pause">
                        <img src="../assets/img/pause.svg" class="btn-pause" alt="botão de pause" />
                    </span>
                    <span class="player-next">
                        <img src="../assets/img/double-arrows2.svg" class="btn-next" alt="botão de avançar" />
                    </span>
                    <!-- <span class="player-stop">Stop</span> -->

                    <a class="dropdown-toggle user-toggle" id="dropdownMenuVelocidade" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <button class="btn btn-speed">1.00x</button>
                    </a>
                    <div id="dropdown-speed" class="dropdown-menu mr-3" aria-labelledby="dropdownMenuVelocidade">
                        <div class="dropdown-item" onclick="changeSpeed(3.00)">3.00x</div>
                        <div class="dropdown-item" onclick="changeSpeed(2.50)">2.50x</div>
                        <div class="dropdown-item" onclick="changeSpeed(2.00)">2.00x</div>
                        <div class="dropdown-item" onclick="changeSpeed(1.75)">1.75x</div>
                        <div class="dropdown-item" onclick="changeSpeed(1.50)">1.50x</div>
                        <div class="dropdown-item" onclick="changeSpeed(1.25)">1.25x</div>
                        <div class="dropdown-item" onclick="changeSpeed(1.00)">1.00x</div>
                        <div class="dropdown-item" onclick="changeSpeed(0.75)">0.75x</div>
                        <div class="dropdown-item" onclick="changeSpeed(0.50)">0.50x</div>
                    </div>
                </div>
            </div>

            <div class="col-sm-1">
                <img src="../assets/img/btn-volume.svg" class="btn-volume" alt="botão de controle de volume" />
            </div>

            <div class="col-sm-2">
                <input id="volume-control" class="volume-control" type="range" id="weight" min="0" value="0.6" max="1"
                    step="0.1" onchange="attVolume()" />
            </div>

            <div class="col-sm-1">
                <div class="tempo-total">
                    <span id="tempo-total"></span>
                </div>
            </div>

            <div class="player"></div>
        </div>
    </main>

    <script src="../assets/js/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>

    <script src="../assets/js/owl.carousel.min.js"></script>
    <script src="../assets/js/jplayer/jquery.jplayer.min.js"></script>
    <script src="../assets/js/index.js"></script>
    <script src="../assets/js/search.js"></script>
    <script>
        $(".owl-carousel").owlCarousel({
            margin: 10,
            responsive: {
                0: {
                    items: 1,
                },
                600: {
                    items: 2,
                },
                1000: {
                    items: 4,
                },
            },
        });
    </script>

    <script>
        setVars(
            [
                "..\/assets\/files\\canais\\6\\episodios\\3\\-e-investe-em-mim.mp3",
                "..\/assets\/files\\canais\\2\\episodios\\5\\demons-feat-micah-martin.mp3",
                "..\/assets\/files\\canais\\3\\episodios\\6\\15-nem-foi-combinado-r10cds-oficial.mp3",
                "..\/assets\/files\\canais\\4\\episodios\\9\\cade-a-quentinha.mp3",
                "..\/assets\/files\\canais\\5\\episodios\\10\\te-escolhi-official-music-video.mp3",
            ],
            [{
                    id: 3,
                    titulo: "Investe em mim",
                    descricao: "Investe em mim, aposta tudo em mim, que eu prometo te fazer feliz...",
                    canai_id: 6,
                    data: "2020-11-21T00:00:00+00:00",
                    arquivo: "-e-investe-em-mim.mp3",
                    nome_canal: "Baroes da pisadinha",
                    imagem_canal: "baroes.png",
                    favorito: true,
                },
                {
                    id: 5,
                    titulo: "Demons",
                    descricao: "When you feel my heat Look into my eyes...",
                    canai_id: 2,
                    data: "2020-11-22T00:00:00+00:00",
                    arquivo: "demons-feat-micah-martin.mp3",
                    nome_canal: "Imagine Dragons",
                    imagem_canal: "imaginedragons.jpg",
                    favorito: false,
                },
                {
                    id: 6,
                    titulo: "Nem foi combinado",
                    descricao: "E Nem foi combinado pra dar certo, e deu bom ...",
                    canai_id: 3,
                    data: "2020-11-22T00:00:00+00:00",
                    arquivo: "15-nem-foi-combinado-r10cds-oficial.mp3",
                    nome_canal: "Tribo da Periferia",
                    imagem_canal: "tribo.jpg",
                    favorito: false,
                },
                {
                    id: 9,
                    titulo: "Cade a quentinha?",
                    descricao: "No epis\u00f3dio de hoje estamos a procura da quentinha. Cade a quentinha?",
                    canai_id: 4,
                    data: "2020-11-22T00:00:00+00:00",
                    arquivo: "cade-a-quentinha.mp3",
                    nome_canal: "NerdCast",
                    imagem_canal: "nerdcast.jpg",
                    favorito: false,
                },
                {
                    id: 10,
                    titulo: "Te escolhi",
                    descricao: "Ah, mina eu te escolhi...",
                    canai_id: 5,
                    data: "2020-11-27T00:00:00+00:00",
                    arquivo: "te-escolhi-official-music-video.mp3",
                    nome_canal: "MC Luan",
                    imagem_canal: "artworks-000643943857-8pfnzo-t500x500.jpg",
                    favorito: false,
                },
            ]
        );
    </script>

    <script>
        $("document").ready(function () {
            $("#add-favoritos").click(function () {
                var favorito = document.getElementById("add-favoritos");
                if (favorito.getAttribute("src") == "../assets/img/favorito_2.png") {
                    addFavoritos();
                } else {
                    removeFavoritos();
                }
            });
        });

        function addFavoritos() {
            var title = document.getElementById("title").innerHTML;

            $.ajax({
                headers: {
                    "X-CSRF-Token": "d3e54e3c8611aab7239f4c543df1f7559c5de9d630a377fc6bdf48b55c190623a60cea1ce706e6a288f1a862c9bcfeca25ea83458852b64a0bcc129d3d17edf7",
                },

                method: "post",
                url: "../assets/favoritos/add",
                data: {
                    title: title,
                },
            });
        }

        function removeFavoritos() {
            var title = document.getElementById("title").innerHTML;

            $.ajax({
                headers: {
                    "X-CSRF-Token": "d3e54e3c8611aab7239f4c543df1f7559c5de9d630a377fc6bdf48b55c190623a60cea1ce706e6a288f1a862c9bcfeca25ea83458852b64a0bcc129d3d17edf7",
                },

                method: "post",
                url: "../assets/favoritos/remove",
                data: {
                    title: title,
                },
            });
        }
    </script>

    <!-- Toastr -->
    <script src="../assets/js/plugins/toastr/toastr.min.js"></script>
    <!-- Flash render -->
</body>

</html>